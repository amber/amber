<!doctype html>
<meta charset=utf-8>
<title>Amber</title>

<link rel=stylesheet href=static/app.css>
<link rel=icon href=static/favicon.png>
<body>
<!--
<script src=src/util.js></script>
<script src=src/event.js></script>
<script src=src/models.js></script>
<script src=src/markup.js></script>
<script src=src/locale.js></script>
<script src=src/ui.js></script>
<script src=src/editor/specs.js></script>
<script src=src/editor/models.js></script>
<script src=src/editor/ui.js></script>
<script src=src/site/urls.js></script>
<script src=src/site/ui.js></script>
-->
<script src=markup.js></script>
<script src=src.js></script>
<script src=mock.js></script>
<script src=locale/en-US.js></script>

<script>
var a = Amber;

a.model('TestModel', {

  data: {
    name: { value: 'a model' }
  }
});

a.view('TestView', {

  template: 'test-template',

  subscribe: ['nameChanged'],

  render: function(model) {
    this.nameChanged(model);
  },

  nameChanged: function(model) {
    this.el.textContent = model.name;
  }
});

var models = Array(10).join('.').split('.').map(function() {
  return a.model.TestModel();
});

Array(100).join('.').split('.').forEach(function(_, i) {
  var view = a.view.TestView(models[Math.random() * models.length | 0]);
  view.on('load', function() {
    document.body.appendChild(view.el);
  });
});

// server = a.Server({
//   socket: socket = a.mock.Socket({
//     backendVerbosePackets: true
//   })
// }).connect({
//   verbosePackets: true,
//   livePacketLog: true
// });

// server = a.Server({
//   url: 'am-c9-nd.c9.io/'
// }).connect({
//   verbosePackets: true,
//   livePacketLog: true
// });
</script>
